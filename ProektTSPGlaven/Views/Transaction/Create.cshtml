@{
    ViewData["Title"] = "Create Transaction";
}
@section DashboardHeader {
    <li class="nav-item">
        <a class="nav-link text-dark" asp-controller="Dashboard" asp-action="Accounts">Account List</a>
    </li>
    <li class="nav-item">
        <a class="nav-link text-dark" asp-controller="Dashboard" asp-action="AddAccount">Add Account</a>
    </li>
    <li class="nav-item">
        <a class="nav-link text-dark" asp-controller="Dashboard" asp-action="Stats">Personal Statistics</a>
    </li>
    <li class="nav-item">
        <a class="nav-link text-danger fw-bold" asp-controller="Dashboard" asp-action="Logout">Logout</a>
    </li>
}

<div class="container mt-4">
    <h2 class="mb-4">➕ Add Transaction</h2>

    <form id="form" name="form" method="post" asp-controller="Transaction" asp-action="Create">
        @* <input type="hidden" id="accountId" name="accountId" value="@ViewBag.AccountId" /> *@

        <div class="mb-3 row">
            <label class="col-sm-2 col-form-label">Amount</label>
            <div class="col-sm-4">
                <input type="number" class="form-control" name="amount" required />
            </div>
        </div>

        <div class="mb-3 row">
            <label class="col-sm-2 col-form-label">Type</label>
            <div class="col-sm-4">
                <select name="type" id="type" class="form-select" required>
                    @using ProektTSPGlaven.Models.Database;
                    @foreach (var type in Enum.GetValues(typeof(TransactionType)))
                    {
                        <option value="@type">@type.ToString()</option>
                    }
                </select>
            </div>
        </div>

        <div class="mb-3 row">
            <label class="col-sm-2 col-form-label">Category</label>
            <div class="col-sm-4">
                <input type="text" class="form-control" name="category" required />
            </div>
        </div>

        <div class="mb-3 row">
            <label class="col-sm-2 col-form-label">Description</label>
            <div class="col-sm-4">
                <input type="text" class="form-control" name="description" required />
            </div>
        </div>

        <div class="row">
            <div class="col-sm-4 offset-sm-2">
                <button type="submit" class="btn btn-primary">Submit</button>
            </div>
        </div>

        @Html.ValidationSummary(true, "", new { @class = "text-danger mt-3" })
    </form>
</div>

